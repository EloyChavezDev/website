---
import ImageMod from "./ImageMod.astro";
import { humanize, slugify } from "@/lib/utils/textConverter";

const { data, link: customLink } = Astro.props;
const { title, image, link, tags, description } = data.data;
const cardLink = customLink || link;
---

<div class="bg-body dark:bg-darkmode-body">
  <a href={cardLink} target={customLink ? "_self" : "_blank"} rel={customLink ? "" : "noopener noreferrer"}>
    <ImageMod
      class="w-full rounded"
      src={image}
      alt={title}
      width={445}
      height={230}
      format="webp"
    />
  </a>
  <h4 class="text-center mt-3 mb-2">{title}</h4>
  <div class="text-center mb-2">
    <strong>Tags:</strong>
    <ul class="inline-flex justify-center flex-wrap ml-1">
      {
        tags.map((tag: string) => {
          const colorClass = tag === "Activo" ? "text-green-600" : tag === "Inactivo" ? "text-red-600" : "";
          return (
            <li class="mr-2 mb-1">
              <a href={`/proyectos/tags/${slugify(tag)}`} class={`font-semibold ${colorClass}`}>
                {humanize(tag)}
              </a>
            </li>
          );
        })
      }
    </ul>
  </div>
  {description && <p class="text-center mt-2 text-sm border-t border-gray-300 dark:border-gray-600 pt-2">{description}</p>}
</div>